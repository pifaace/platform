imports:
    - { resource: manager.yml }
    - { resource: handler.yml }

services:
    action.advert.voter:
        class: Piface\AppBundle\Security\ActionAdvertVoter
        arguments:
            - '@app.advert.manager'
            - '@security.access.decision_manager'
        public: false
        tags:
            - { name: security.voter }

    censor.advert_processor:
        class: Piface\AppBundle\Services\CensorProcessor

    censor.advert_listener:
        class: Piface\AppBundle\EventListener\CensorListener
        arguments:
            - '@censor.advert_processor'
        tags:
            - { name: kernel.event_listener, event: app.censor.message, method: processCensor }
